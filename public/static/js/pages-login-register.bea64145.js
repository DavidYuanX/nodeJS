(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-register"],{2223:function(e,t,i){"use strict";var s=i("c23d"),n=i.n(s);n.a},2816:function(e,t,i){"use strict";i.r(t);var s=i("5a09"),n=i("8ade");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("2223");var a=i("2877"),l=Object(a["a"])(n["default"],s["a"],s["b"],!1,null,"099d5d14",null);t["default"]=l.exports},"4d47":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("d46f"));function n(e){return e&&e.__esModule?e:{default:e}}var o={data:function(){return{from:{},smsbtn:{text:"获取验证码",status:!1,codeTime:60},timerId:null,resSmsCode:"",verifyTelIcon:"",verifyTelIconColor:""}},components:{uniIcon:s.default},methods:{empty:function(){"checkmarkempty"===this.verifyTelIcon?uni.showToast({title:"当前号码未被注册！",icon:"none"}):this.from.tel=""},verifyTel:function(){var e=this,t=this.from.tel.slice(0,2);11!==this.from.tel.length||-1===t.indexOf("152")&&-1===t.indexOf("13")&&-1===t.indexOf("14")&&-1===t.indexOf("15")&&-1===t.indexOf("16")&&-1===t.indexOf("17")&&-1===t.indexOf("18")&&-1===t.indexOf("19")?(uni.showToast({title:"请检查输入的手机号码！",icon:"none"}),this.verifyTelIcon="closeempty",this.verifyTelIconColor="red"):uni.request({url:this.$nodeServerUrl+"/api/verifyTel",data:{tel:this.from.tel},success:function(t){console.log(t),200===t.statusCode&&t.data?(e.verifyTelIcon="checkmarkempty",e.verifyTelIconColor="var(--theme-color,#42b983)"):(e.verifyTelIcon="closeempty",e.verifyTelIconColor="red")}})},register:function(e){this.resSmsCode===this.md5(Number(e.detail.value.smsCode))?(console.log(e.detail.value),uni.request({url:this.$nodeServerUrl+"/api/registered",method:"post",data:{tel:e.detail.value.tel,password:this.md5(e.detail.value.password)},success:function(e){200===e.statusCode&&(uni.showToast({title:"注册成功！",icon:"none"}),uni.navigateTo({url:"login"}))}})):uni.showToast({title:"验证码错误！",icon:"none"})},getsmscode:function(){var e=this;if(console.log(this.from),this.from.tel&&this.from.tel.length>1)return uni.showToast({title:"loading！",icon:"none"}),this.rendSms(),this.timerId=setInterval(function(){var t=e.smsbtn.codeTime;t--,e.smsbtn.codeTime=t,e.smsbtn.text=t+"秒",t<1&&(clearInterval(e.timerId),e.smsbtn.text="重新获取",e.smsbtn.codeTime=60,e.smsbtn.status=!1)},1e3),!1;uni.showToast({title:"请输入正确的手机号！",icon:"none"})},rendSms:function(){var e=this;uni.request({url:this.$nodeServerUrl+"/api/sendSms",method:"post",data:{tel:this.from.tel},success:function(t){console.log(t);var i="发送失败,请稍后再试！";200===t.statusCode&&t.data.code&&(e.resSmsCode=t.data.code,i="发送成功！"),uni.showToast({title:i,icon:"none"})}})}}};t.default=o},"5a09":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-form",{staticClass:"loginView register",attrs:{id:"register"},on:{submit:function(t){t=e.$handleEvent(t),e.register(t)}}},[i("v-uni-view",{staticClass:"input-view"},[i("v-uni-view",{staticClass:"label-view"},[i("v-uni-text",{staticClass:"label"},[e._v("手机号")])],1),i("v-uni-view",{staticClass:"verifyTel"},[i("v-uni-input",{staticClass:"input",attrs:{type:"tel",placeholder:"请输入手机号(11位中国内陆号码）",name:"tel"},on:{blur:function(t){t=e.$handleEvent(t),e.verifyTel()}},model:{value:e.from.tel,callback:function(t){e.$set(e.from,"tel",t)},expression:"from.tel"}}),i("v-uni-view",{staticStyle:{width:"100%","text-align":"right"}},[i("uni-icon",{attrs:{type:e.verifyTelIcon,color:e.verifyTelIconColor,size:"30"},on:{click:function(t){t=e.$handleEvent(t),e.empty(t)}}})],1)],1)],1),i("v-uni-view",{staticClass:"input-view"},[i("v-uni-view",{staticClass:"label-view"},[i("v-uni-text",{staticClass:"label"},[e._v("密码")])],1),i("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码",name:"password"},model:{value:e.from.password,callback:function(t){e.$set(e.from,"password",t)},expression:"from.password"}})],1),i("v-uni-view",{staticClass:"input-view"},[i("v-uni-view",{staticClass:"label-view"},[i("v-uni-text",{staticClass:"label"},[e._v("验证码")])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入验证码",name:"smsCode"},model:{value:e.from.smsCode,callback:function(t){e.$set(e.from,"smsCode",t)},expression:"from.smsCode"}})],1),i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-view",{staticClass:"codeimg",on:{click:function(t){t=e.$handleEvent(t),e.getsmscode(t)}}},[e._v(e._s(e.smsbtn.text))])],1)],1)],1),i("v-uni-view",{staticClass:"button-view"},[i("v-uni-button",{staticClass:"register",attrs:{type:"default","hover-class":"hover",formType:"submit"}},[e._v("注册")])],1)],1)},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},"61ca":function(e,t,i){t=e.exports=i("2350")(),t.push([e.i,".register .verifyTel[data-v-099d5d14]{display:-webkit-flex;display:-ms-flexbox;display:flex}.register .verifyTel uni-input[data-v-099d5d14]{-webkit-flex:80%;-ms-flex:80%;flex:80%}.register .verifyTel uni-view[data-v-099d5d14]{-webkit-flex:1;-ms-flex:1;flex:1}",""])},"8ade":function(e,t,i){"use strict";i.r(t);var s=i("4d47"),n=i.n(s);for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);t["default"]=n.a},c23d:function(e,t,i){var s=i("61ca");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=i("4f06").default;n("0485b0f5",s,!0,{sourceMap:!1,shadowMode:!1})}}]);